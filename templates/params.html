{% extends "base.html" %}
{% load static from staticfiles %}
{% block title %}事故预测参数调节{% endblock %}
{% block head %}
{% endblock %}
{% block content %}
    <div class="container" style="height: 18%; margin-top: 2%">
    <div class="form-inline" role="form">
        <h4>事故预测参数调节</h4>
        <form id = "form_to_submit" class="form-inline"  action="" method="POST">
        <div class="form-group">
            <label for="classifier_name" class="control-label"><small>模型:</small></label>
            <select id="classifier_name" class="form-control input-sm" name="classifier_name" style="width:70px;">
                  {% for v in classifier_names %}
                      {% ifequal forloop.counter0 0 %}
                          <option value="{{ v }}" selected="selected">{{ v }}</option>
                      {% else %}
                           <option value="{{ v }}">{{ v }}</option>
                      {% endifequal %}
                  {% endfor %}
            </select>
       </div>
        <div class="form-group">
            <label for="seq_len" class="control-label"><small>序列长度:</small></label>
            <select id="seq_len" class="form-control input-sm" name="seq_len" style="width:70px;">
                  {% for v in seq_lens %}
                      {% ifequal forloop.counter0 0 %}
                          <option value="{{ v }}" selected="selected">{{ v }}</option>
                      {% else %}
                           <option value="{{ v }}">{{ v }}</option>
                      {% endifequal %}
                  {% endfor %}
            </select>
       </div>
        <div class="form-group">
            <label for="lstm_layers" class="control-label"><small>LSTM层数:</small></label>
            <select id="lstm_layers" class="form-control input-sm" name="lstm_layers" style="width:70px;">
                  {% for v in lstm_layers %}
                      {% ifequal forloop.counter0 0 %}
                          <option value="{{ v }}" selected="selected">{{ v }}</option>
                      {% else %}
                           <option value="{{ v }}">{{ v }}</option>
                      {% endifequal %}
                  {% endfor %}
            </select>
       </div>
        <div class="form-group">
            <label for="fc_nn_layers" class="control-label"><small>全连接层层数:</small></label>
            <select id="fc_nn_layers" class="form-control input-sm" name="fc_nn_layers" style="width:70px;">
                  {% for v in fc_nn_layers %}
                      {% ifequal forloop.counter0 0 %}
                          <option value="{{ v }}" selected="selected">{{ v }}</option>
                      {% else %}
                           <option value="{{ v }}">{{ v }}</option>
                      {% endifequal %}
                  {% endfor %}
            </select>
       </div>
       <div class="form-group">
            <label for="n_neurons" class="control-label"><small>每层神经元数:</small></label>
            <select id="n_neurons" class="form-control input-sm" name="n_neurons" style="width:70px;">
                  {% for v in n_neurons %}
                      {% ifequal forloop.counter0 0 %}
                          <option value="{{ v }}" selected="selected">{{ v }}</option>
                      {% else %}
                           <option value="{{ v }}">{{ v }}</option>
                      {% endifequal %}
                  {% endfor %}
            </select>
       </div>
        <br/>
        <div class="form-group">
            <label for="epoch" class="control-label"><small>Epoch:</small></label>
            <input type="text" class="form-control input-sm" name ="epoch" value="10" >
       </div>
        <div class="form-group">
            <label for="batch_size" class="control-label"><small>Batch Size:</small></label>
            <input type="text" class="form-control input-sm" name ="batch_size" value="512" >
       </div>
        <div class="form-group">
                <input onclick="submit_form()" class="btn btn-primary btn-md"  style="width: 80px;" value="训练"/>
                {% csrf_token %}
        </div>
        </form>
        </div>
        </div>
    <div id="allmap" style="height: 85%">
    </div>
{% endblock %}
{% block endscript %}
<script type="text/javascript">
	// 百度地图API功能
	var map = new BMap.Map("allmap");
	map.centerAndZoom(new BMap.Point(116.404, 39.915), 13);     // 初始化地图,设置中心点坐标和地图级别
</script>

{% endblock %}